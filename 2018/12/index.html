<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>2018年12月</title>
    <link rel="stylesheet" href="/photos/assets/gallery.css">
</head>
<body>
    <div class="gallery">
        <h3 onclick='loadAndToggleImages(this, "2018/12/19")' data-date="12/19" class="date-header">
            <span class="date-text">12/19</span>
            <span class="toggle-indicator">▶</span>
        </h3>
        <div class='images' data-date="12/19"></div>
        <h3 onclick='loadAndToggleImages(this, "2018/12/20")' data-date="12/20" class="date-header">
            <span class="date-text">12/20</span>
            <span class="toggle-indicator">▶</span>
        </h3>
        <div class='images' data-date="12/20"></div>
        <h3 onclick='loadAndToggleImages(this, "2018/12/21")' data-date="12/21" class="date-header">
            <span class="date-text">12/21</span>
            <span class="toggle-indicator">▶</span>
        </h3>
        <div class='images' data-date="12/21"></div>
        <h3 onclick='loadAndToggleImages(this, "2018/12/22")' data-date="12/22" class="date-header">
            <span class="date-text">12/22</span>
            <span class="toggle-indicator">▶</span>
        </h3>
        <div class='images' data-date="12/22"></div>
        <h3 onclick='loadAndToggleImages(this, "2018/12/25")' data-date="12/25" class="date-header">
            <span class="date-text">12/25</span>
            <span class="toggle-indicator">▶</span>
        </h3>
        <div class='images' data-date="12/25"></div>
        <h3 onclick='loadAndToggleImages(this, "2018/12/28")' data-date="12/28" class="date-header">
            <span class="date-text">12/28</span>
            <span class="toggle-indicator">▶</span>
        </h3>
        <div class='images' data-date="12/28"></div>
    </div>
    <script>
        const photoData = {
    "2018/12/19": [
        "https://raw.githubusercontent.com/modem-56k/img/main/2018/12/19/PANO_20181219_161302.jpg",
        "https://raw.githubusercontent.com/modem-56k/img/main/2018/12/19/PANO_20181219_163403.jpg",
        "https://raw.githubusercontent.com/modem-56k/img/main/2018/12/19/PANO_20181219_172659.jpg"
    ],
    "2018/12/20": [
        "https://raw.githubusercontent.com/modem-56k/img/main/2018/12/20/PANO_20181220_103329.jpg",
        "https://raw.githubusercontent.com/modem-56k/img/main/2018/12/20/PANO_20181220_105346.jpg",
        "https://raw.githubusercontent.com/modem-56k/img/main/2018/12/20/PANO_20181220_105601.jpg",
        "https://raw.githubusercontent.com/modem-56k/img/main/2018/12/20/PANO_20181220_110507.jpg",
        "https://raw.githubusercontent.com/modem-56k/img/main/2018/12/20/PANO_20181220_110600.jpg",
        "https://raw.githubusercontent.com/modem-56k/img/main/2018/12/20/PANO_20181220_110944.jpg",
        "https://raw.githubusercontent.com/modem-56k/img/main/2018/12/20/PANO_20181220_111057.jpg"
    ],
    "2018/12/21": [
        "https://raw.githubusercontent.com/modem-56k/img/main/2018/12/21/PANO_20181221_094939.jpg",
        "https://raw.githubusercontent.com/modem-56k/img/main/2018/12/21/PANO_20181221_100140.jpg",
        "https://raw.githubusercontent.com/modem-56k/img/main/2018/12/21/PANO_20181221_101658.jpg"
    ],
    "2018/12/22": [
        "https://raw.githubusercontent.com/modem-56k/img/main/2018/12/22/PANO_20181222_115700.jpg",
        "https://raw.githubusercontent.com/modem-56k/img/main/2018/12/22/PANO_20181222_140912.jpg",
        "https://raw.githubusercontent.com/modem-56k/img/main/2018/12/22/PANO_20181222_141521.jpg"
    ],
    "2018/12/25": [
        "https://raw.githubusercontent.com/modem-56k/img/main/2018/12/25/PANO_20181225_200813.jpg",
        "https://raw.githubusercontent.com/modem-56k/img/main/2018/12/25/PANO_20181225_201248.jpg"
    ],
    "2018/12/28": [
        "https://raw.githubusercontent.com/modem-56k/img/main/2018/12/28/PANO_20181228_180917.jpg"
    ]
};
        const loadedDates = new Set();

        function loadAndToggleImages(element, datePath) {
            const imagesDiv = element.nextElementSibling;
            const indicator = element.querySelector('.toggle-indicator');

            if (imagesDiv.style.display === "block") {
                imagesDiv.style.display = "none";
                indicator.textContent = "▶";
                element.classList.remove('expanded');
                return;
            }

            if (!loadedDates.has(datePath)) {
                loadImagesForDate(datePath, imagesDiv);
                loadedDates.add(datePath);
            }

            imagesDiv.style.display = "block";
            indicator.textContent = "▼";
            element.classList.add('expanded');
        }

        function loadImagesForDate(datePath, container) {
            const photos = photoData[datePath];
            if (!photos || photos.length === 0) {
                container.innerHTML = '<p>这一天没有照片</p>';
                return;
            }
            let html = '';
            photos.forEach(photoUrl => {
                const thumbnailUrl = `https://images.weserv.nl/?url=${encodeURIComponent(photoUrl)}&w=300&h=300&output=jpg&q=50&t=square`;
                html += `<a href='${photoUrl}' target='_blank'><img src='${thumbnailUrl}' alt='Image'></a>`;
            });
            container.innerHTML = html;
        }
    </script>
</body>
</html>